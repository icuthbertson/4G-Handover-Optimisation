#if !defined(_Q_LEARNING_H_)
#define _Q_LEARNING_H_

#include "event_handler.h"

#define ALPHA 0.1
#define GAMMA 0.9
#define NUMSTATES 336
#define LENGTH 8

// //      0   1   2   3   4   5   6   7   8   9   10  11  12  13  14  15  16  17  18  19  20
// //    ------------------------------------------------------------------------------------
// // 0  |000|001|002|003|004|005|006|007|008|009|010|011|012|013|014|015|016|017|018|019|000
// //    ------------------------------------------------------------------------------------
// // 1  |020|021|022|023|024|025|026|027|028|029|030|031|032|033|034|035|036|037|038|039|000
// //    ------------------------------------------------------------------------------------
// // 2  |040|041|042|043|044|045|046|047|048|049|050|051|052|053|054|055|056|057|058|059|000
// //    ------------------------------------------------------------------------------------
// // 3  |060|061|062|063|064|065|066|067|068|069|070|071|072|073|074|075|076|077|078|079|000
// //    ------------------------------------------------------------------------------------
// // 4  |080|081|082|083|084|085|086|087|088|089|090|091|092|093|094|095|096|097|098|099|000
// //    ------------------------------------------------------------------------------------
// // 5  |100|101|102|103|104|105|106|107|108|109|110|111|112|113|114|115|116|117|118|119|000
// //    ------------------------------------------------------------------------------------
// // 6  |120|121|122|123|124|125|126|127|128|129|130|131|132|133|134|135|136|137|138|139|000
// //    ------------------------------------------------------------------------------------
// // 7  |140|141|142|143|144|145|146|147|148|149|150|151|152|153|154|155|156|157|158|159|000
// //    ------------------------------------------------------------------------------------
// // 8  |160|161|162|163|164|165|166|167|168|169|170|171|172|173|174|175|176|177|178|179|000
// //    ------------------------------------------------------------------------------------
// // 9  |180|181|182|183|184|185|186|187|188|189|190|191|192|193|194|195|196|197|198|199|000
// //    ------------------------------------------------------------------------------------
// // 10 |200|201|202|203|204|205|206|207|208|209|210|211|212|213|214|215|216|217|218|219|000
// //    ------------------------------------------------------------------------------------
// // 11 |220|221|222|223|224|225|226|227|228|229|230|231|232|233|234|235|236|237|238|239|000
// //    ------------------------------------------------------------------------------------
// // 12 |240|241|242|243|244|245|246|247|248|249|250|251|252|253|254|255|256|257|258|259|000
// //    ------------------------------------------------------------------------------------
// // 13 |260|261|262|263|264|265|266|267|268|269|270|271|272|273|274|275|276|277|278|279|000
// //    ------------------------------------------------------------------------------------
// // 14 |280|281|282|283|284|285|286|287|288|289|290|291|292|293|294|295|296|297|298|299|000
// //    ------------------------------------------------------------------------------------
// // 15 |280|281|282|283|284|285|286|287|288|289|290|291|292|293|294|295|296|297|298|299|000
// //    ------------------------------------------------------------------------------------ 

// int actions0[] = {1,20,21,-1,-1,-1,-1,-1};
// int actions1[] = {0,2,20,21,22,-1,-1,-1};
// int actions2[] = {1,3,21,22,23,-1,-1,-1};
// int actions3[] = {2,4,22,23,24,-1,-1,-1};
// int actions4[] = {3,5,23,24,25,-1,-1,-1};
// int actions5[] = {4,6,24,25,26,-1,-1,-1};
// int actions6[] = {5,7,25,26,27,-1,-1,-1};
// int actions7[] = {6,8,26,27,28,-1,-1,-1};
// int actions8[] = {7,9,27,28,29,-1,-1,-1};
// int actions9[] = {8,10,28,29,30,-1,-1,-1};
// int actions10[] = {9,11,29,30,31,-1,-1,-1};
// int actions11[] = {10,12,30,31,32,-1,-1,-1};
// int actions12[] = {11,13,31,32,33,-1,-1,-1};
// int actions13[] = {12,14,32,33,34,-1,-1,-1};
// int actions14[] = {13,15,33,34,35,-1,-1,-1};
// int actions15[] = {14,16,34,35,36,-1,-1,-1};
// int actions16[] = {15,17,35,36,37,-1,-1,-1};
// int actions17[] = {16,18,36,37,38,-1,-1,-1};
// int actions18[] = {17,19,37,38,39,-1,-1,-1};
// int actions19[] = {18,38,39,-1,-1,-1,-1,-1};
// int actions20[] = {0,1,21,40,41,-1,-1,-1};
// int actions21[] = {0,1,2,20,22,40,41,42};
// int actions22[] = {1,2,3,21,23,41,42,43};
// int actions23[] = {2,3,4,22,24,42,43,44};
// int actions24[] = {3,4,5,23,25,43,44,45};
// int actions25[] = {4,5,6,24,26,44,45,46};
// int actions26[] = {5,6,7,25,27,45,46,47};
// int actions27[] = {6,7,8,26,28,46,47,48};
// int actions28[] = {7,8,9,27,29,47,48,49};
// int actions29[] = {8,9,10,28,30,48,49,50};
// int actions30[] = {9,10,11,29,31,49,50,51};
// int actions31[] = {10,11,12,30,32,50,51,52};
// int actions32[] = {11,12,13,31,33,51,52,53};
// int actions33[] = {12,13,14,32,34,52,53,54};
// int actions34[] = {13,14,15,33,35,53,54,55};
// int actions35[] = {14,15,16,34,36,54,55,56};
// int actions36[] = {15,16,17,35,37,55,56,57};
// int actions37[] = {16,17,18,36,38,56,57,58};
// int actions38[] = {17,18,19,37,39,57,58,59};
// int actions39[] = {18,19,38,58,59,-1,-1,-1};
// int actions40[] = {20,21,41,60,61,-1,-1,-1};
// int actions41[] = {20,21,22,40,42,60,61,62};
// int actions42[] = {21,22,23,41,43,61,62,63};
// int actions43[] = {22,23,24,42,44,62,63,64};
// int actions44[] = {23,24,25,43,45,63,64,65};
// int actions45[] = {24,25,26,44,46,64,65,66};
// int actions46[] = {25,26,27,45,47,65,66,67};
// int actions47[] = {26,27,28,46,48,66,67,68};
// int actions48[] = {27,28,29,47,49,67,68,69};
// int actions49[] = {28,29,30,48,50,68,69,70};
// int actions50[] = {29,30,31,49,51,69,70,71};
// int actions51[] = {30,31,32,50,52,70,71,72};
// int actions52[] = {31,32,33,51,53,71,72,73};
// int actions53[] = {32,33,34,52,54,72,73,74};
// int actions54[] = {33,34,35,53,55,73,74,75};
// int actions55[] = {34,35,36,54,56,74,75,76};
// int actions56[] = {35,36,37,55,57,75,76,77};
// int actions57[] = {36,37,38,56,58,76,77,78};
// int actions58[] = {37,38,39,57,59,77,78,79};
// int actions59[] = {38,39,58,78,79,-1,-1,-1};
// int actions60[] = {40,41,61,80,81,-1,-1,-1};
// int actions61[] = {40,41,42,60,62,80,81,82};
// int actions62[] = {41,42,43,61,63,81,82,83};
// int actions63[] = {42,43,44,62,64,82,83,84};
// int actions64[] = {43,44,45,63,65,83,84,85};
// int actions65[] = {44,45,46,64,66,84,85,86};
// int actions66[] = {45,46,47,65,67,85,86,87};
// int actions67[] = {46,47,48,66,68,86,87,88};
// int actions68[] = {47,48,49,67,69,87,88,89};
// int actions69[] = {48,49,50,68,70,88,89,90};
// int actions70[] = {49,50,51,69,71,89,90,91};
// int actions71[] = {50,51,52,70,72,90,91,92};
// int actions72[] = {51,52,53,71,73,91,92,93};
// int actions73[] = {52,53,54,72,74,92,93,94};
// int actions74[] = {53,54,55,73,75,93,94,95};
// int actions75[] = {54,55,56,74,76,94,95,96};
// int actions76[] = {55,56,57,75,77,95,96,97};
// int actions77[] = {56,57,58,76,78,96,97,98};
// int actions78[] = {57,58,59,77,79,97,98,99};
// int actions79[] = {58,59,78,98,99,-1,-1,-1};
// int actions80[] = {60,61,81,100,101,-1,-1,-1};
// int actions81[] = {60,61,62,80,82,100,101,102};
// int actions82[] = {61,62,63,81,83,101,102,103};
// int actions83[] = {62,63,64,82,84,102,103,104};
// int actions84[] = {63,64,65,83,85,103,104,105};
// int actions85[] = {64,65,66,84,86,104,105,106};
// int actions86[] = {65,66,67,85,87,105,106,107};
// int actions87[] = {66,67,68,86,88,106,107,108};
// int actions88[] = {67,68,69,87,89,107,108,109};
// int actions89[] = {68,69,70,88,90,108,109,110};
// int actions90[] = {69,70,71,89,91,109,110,111};
// int actions91[] = {70,71,72,90,92,110,111,112};
// int actions92[] = {71,72,73,91,93,111,112,113};
// int actions93[] = {72,73,74,92,94,112,113,114};
// int actions94[] = {73,74,75,93,95,113,114,115};
// int actions95[] = {74,75,76,94,96,114,115,116};
// int actions96[] = {75,76,77,95,97,115,116,117};
// int actions97[] = {76,77,78,96,98,116,117,118};
// int actions98[] = {77,78,79,97,99,117,118,119};
// int actions99[] = {78,79,98,118,119,-1,-1,-1};

// int actions100[] = {80,81,101,120,121,-1,-1,-1};
// int actions101[] = {80,81,82,100,102,120,121,122};
// int actions102[] = {81,82,83,101,103,121,122,123};
// int actions103[] = {82,83,84,102,104,122,123,124};
// int actions104[] = {83,84,85,103,105,123,124,125};
// int actions105[] = {84,85,86,104,106,124,125,126};
// int actions106[] = {85,86,87,105,107,125,126,127};
// int actions107[] = {86,87,88,106,108,126,127,128};
// int actions108[] = {87,88,89,107,109,127,128,129};
// int actions109[] = {88,89,90,108,110,128,129,130};
// int actions110[] = {89,90,91,109,111,129,130,131};
// int actions111[] = {90,91,92,110,112,130,131,132};
// int actions112[] = {91,92,93,111,113,131,132,133};
// int actions113[] = {92,93,94,112,114,132,133,134};
// int actions114[] = {93,94,95,113,115,133,134,135};
// int actions115[] = {94,95,96,114,116,134,135,136};
// int actions116[] = {95,96,97,115,117,135,136,137};
// int actions117[] = {96,97,98,116,118,136,137,138};
// int actions118[] = {97,98,99,117,119,137,138,139};
// int actions119[] = {98,99,118,138,139,-1,-1,-1};
// int actions120[] = {100,101,121,140,141,-1,-1,-1};
// int actions121[] = {100,101,102,120,122,140,141,142};
// int actions122[] = {101,102,103,121,123,141,142,143};
// int actions123[] = {102,103,104,122,124,142,143,144};
// int actions124[] = {103,104,105,123,125,143,144,145};
// int actions125[] = {104,105,106,124,126,144,145,146};
// int actions126[] = {105,106,107,125,127,145,146,147};
// int actions127[] = {106,107,108,126,128,146,147,148};
// int actions128[] = {107,108,109,127,129,147,148,149};
// int actions129[] = {108,109,110,128,130,148,149,150};
// int actions130[] = {109,110,111,129,131,149,150,151};
// int actions131[] = {110,111,112,130,132,150,151,152};
// int actions132[] = {111,112,113,131,133,151,152,153};
// int actions133[] = {112,113,114,132,134,152,153,154};
// int actions134[] = {113,114,115,133,135,153,154,155};
// int actions135[] = {114,115,116,134,136,154,155,156};
// int actions136[] = {115,116,117,135,137,155,156,157};
// int actions137[] = {116,117,118,136,138,156,157,158};
// int actions138[] = {117,118,119,137,139,157,158,159};
// int actions139[] = {118,119,138,158,159,-1,-1,-1};
// int actions140[] = {120,121,141,160,161,-1,-1,-1};
// int actions141[] = {120,121,122,140,142,160,161,162};
// int actions142[] = {121,122,123,141,143,161,162,163};
// int actions143[] = {122,123,124,142,144,162,163,164};
// int actions144[] = {123,124,125,143,145,163,164,165};
// int actions145[] = {124,125,126,144,146,164,165,166};
// int actions146[] = {125,126,127,145,147,165,166,167};
// int actions147[] = {126,127,128,146,148,166,167,168};
// int actions148[] = {127,128,129,147,149,167,168,169};
// int actions149[] = {128,129,130,148,150,168,169,170};
// int actions150[] = {129,130,131,149,151,169,170,171};
// int actions151[] = {130,131,132,150,152,170,171,172};
// int actions152[] = {131,132,133,151,153,171,172,173};
// int actions153[] = {132,133,134,152,154,172,173,174};
// int actions154[] = {133,134,135,153,155,173,174,175};
// int actions155[] = {134,135,136,154,156,174,175,176};
// int actions156[] = {135,136,137,155,157,175,176,177};
// int actions157[] = {136,137,138,156,158,176,177,178};
// int actions158[] = {137,138,139,157,159,177,178,179};
// int actions159[] = {138,139,158,178,179,-1,-1,-1};
// int actions160[] = {140,141,161,180,181,-1,-1,-1};
// int actions161[] = {140,141,142,160,162,180,181,182};
// int actions162[] = {141,142,143,161,163,181,182,183};
// int actions163[] = {142,143,144,162,164,182,183,184};
// int actions164[] = {143,144,145,163,165,183,184,185};
// int actions165[] = {144,145,146,164,166,184,185,186};
// int actions166[] = {145,146,147,165,167,185,186,187};
// int actions167[] = {146,147,148,166,168,186,187,188};
// int actions168[] = {147,148,149,167,169,187,188,189};
// int actions169[] = {148,149,150,168,170,188,189,190};
// int actions170[] = {149,150,151,169,171,189,190,191};
// int actions171[] = {150,151,152,170,172,190,191,192};
// int actions172[] = {151,152,153,171,173,191,192,193};
// int actions173[] = {152,153,154,172,174,192,193,194};
// int actions174[] = {153,154,155,173,175,193,194,195};
// int actions175[] = {154,155,156,174,176,194,195,196};
// int actions176[] = {155,156,157,175,177,195,196,197};
// int actions177[] = {156,157,158,176,178,196,197,198};
// int actions178[] = {157,158,159,177,179,197,198,199};
// int actions179[] = {158,159,178,198,199,-1,-1,-1};
// int actions180[] = {160,161,181,200,201,-1,-1,-1};
// int actions181[] = {160,161,162,180,182,200,201,202};
// int actions182[] = {161,162,163,181,183,201,202,203};
// int actions183[] = {162,163,164,182,184,202,203,204};
// int actions184[] = {163,164,165,183,185,203,204,205};
// int actions185[] = {164,165,166,184,186,204,205,206};
// int actions186[] = {165,166,167,185,187,205,206,207};
// int actions187[] = {166,167,168,186,188,206,207,208};
// int actions188[] = {167,168,169,187,189,207,208,209};
// int actions189[] = {168,169,170,188,190,208,209,210};
// int actions190[] = {169,170,171,189,191,209,210,211};
// int actions191[] = {170,171,172,190,192,210,211,212};
// int actions192[] = {171,172,173,191,193,211,212,213};
// int actions193[] = {172,173,174,192,194,212,213,214};
// int actions194[] = {173,174,175,193,195,213,214,215};
// int actions195[] = {174,175,176,194,196,214,215,216};
// int actions196[] = {175,176,177,195,197,215,216,217};
// int actions197[] = {176,177,178,196,198,216,217,218};
// int actions198[] = {177,178,179,197,199,217,218,219};
// int actions199[] = {178,179,198,218,219,-1,-1,-1};

// int actions200[] = {180,181,201,220,221,-1,-1,-1};
// int actions201[] = {180,181,182,200,202,220,221,222};
// int actions202[] = {181,182,183,201,203,221,222,223};
// int actions203[] = {182,183,184,202,204,222,223,224};
// int actions204[] = {183,184,185,203,205,223,224,225};
// int actions205[] = {184,185,186,204,206,224,225,226};
// int actions206[] = {185,186,187,205,207,225,226,227};
// int actions207[] = {186,187,188,206,208,226,227,228};
// int actions208[] = {187,188,189,207,209,227,228,229};
// int actions209[] = {188,189,190,208,210,228,229,230};
// int actions210[] = {189,190,191,209,211,229,230,231};
// int actions211[] = {190,191,192,210,212,230,231,232};
// int actions212[] = {191,192,193,211,213,231,232,233};
// int actions213[] = {192,193,194,212,214,232,233,234};
// int actions214[] = {193,194,195,213,215,233,234,235};
// int actions215[] = {194,195,196,214,216,234,235,236};
// int actions216[] = {195,196,197,215,217,235,236,237};
// int actions217[] = {196,197,198,216,218,236,237,238};
// int actions218[] = {197,198,199,217,219,237,238,239};
// int actions219[] = {198,199,218,238,239,-1,-1,-1};
// int actions220[] = {200,201,221,240,241,-1,-1,-1};
// int actions221[] = {200,201,202,220,222,240,241,242};
// int actions222[] = {201,202,203,221,223,241,242,243};
// int actions223[] = {202,203,204,222,224,242,243,244};
// int actions224[] = {203,204,205,223,225,243,244,245};
// int actions225[] = {204,205,206,224,226,244,245,246};
// int actions226[] = {205,206,207,225,227,245,246,247};
// int actions227[] = {206,207,208,226,228,246,247,248};
// int actions228[] = {207,208,209,227,229,247,248,249};
// int actions229[] = {208,209,210,228,230,248,249,250};
// int actions230[] = {209,210,211,229,231,249,250,251};
// int actions231[] = {210,211,212,230,232,250,251,252};
// int actions232[] = {211,212,213,231,233,251,252,253};
// int actions233[] = {212,213,214,232,234,252,253,254};
// int actions234[] = {213,214,215,233,235,253,254,255};
// int actions235[] = {214,215,216,234,236,254,255,256};
// int actions236[] = {215,216,217,235,237,255,256,257};
// int actions237[] = {216,217,218,236,238,256,257,258};
// int actions238[] = {217,218,219,237,239,257,258,259};
// int actions239[] = {218,219,238,258,259,-1,-1,-1};
// int actions240[] = {220,221,241,260,261,-1,-1,-1};
// int actions241[] = {220,221,222,240,242,260,261,262};
// int actions242[] = {221,222,223,241,243,261,262,263};
// int actions243[] = {222,223,224,242,244,262,263,264};
// int actions244[] = {223,224,225,243,245,263,264,265};
// int actions245[] = {224,225,226,244,246,264,265,266};
// int actions246[] = {225,226,227,245,247,265,266,267};
// int actions247[] = {226,227,228,246,248,266,267,268};
// int actions248[] = {227,228,229,247,249,267,268,269};
// int actions249[] = {228,229,230,248,250,268,269,270};
// int actions250[] = {229,230,231,249,251,269,270,271};
// int actions251[] = {230,231,232,250,252,270,271,272};
// int actions252[] = {231,232,233,251,253,271,272,273};
// int actions253[] = {232,233,234,252,254,272,273,274};
// int actions254[] = {233,234,235,253,255,273,274,275};
// int actions255[] = {234,235,236,254,256,274,275,276};
// int actions256[] = {235,236,237,255,257,275,276,277};
// int actions257[] = {236,237,238,256,258,276,277,278};
// int actions258[] = {237,238,239,257,259,277,278,279};
// int actions259[] = {238,239,258,278,279,-1,-1,-1};
// int actions260[] = {240,241,261,280,281,-1,-1,-1};
// int actions261[] = {240,241,242,260,262,280,281,282};
// int actions262[] = {241,242,243,261,263,281,282,283};
// int actions263[] = {242,243,244,262,264,282,283,284};
// int actions264[] = {243,244,245,263,265,283,284,285};
// int actions265[] = {244,245,246,264,266,284,285,286};
// int actions266[] = {245,246,247,265,267,285,286,287};
// int actions267[] = {246,247,248,266,268,286,287,288};
// int actions268[] = {247,248,249,267,269,287,288,289};
// int actions269[] = {248,249,250,268,270,288,289,290};
// int actions270[] = {249,250,251,269,271,289,290,291};
// int actions271[] = {250,251,252,270,272,290,291,292};
// int actions272[] = {251,252,253,271,273,291,292,293};
// int actions273[] = {252,253,254,272,274,292,293,294};
// int actions274[] = {253,254,255,273,275,293,294,295};
// int actions275[] = {254,255,256,274,276,294,295,296};
// int actions276[] = {255,256,257,275,277,295,296,297};
// int actions277[] = {256,257,258,276,278,296,297,298};
// int actions278[] = {257,258,259,277,279,297,298,299};
// int actions279[] = {258,259,278,298,299,-1,-1,-1};
// int actions280[] = {260,261,281,-1,-1,-1,-1,-1};
// int actions281[] = {260,261,262,280,282};
// int actions282[] = {261,262,263,281,283};
// int actions283[] = {262,263,264,282,284};
// int actions284[] = {263,264,265,283,285};
// int actions285[] = {264,265,266,284,286};
// int actions286[] = {265,266,267,285,287};
// int actions287[] = {266,267,268,286,288};
// int actions288[] = {267,268,269,287,289};
// int actions289[] = {268,269,270,288,290};
// int actions290[] = {269,270,271,289,291};
// int actions291[] = {270,271,272,290,292};
// int actions292[] = {271,272,273,291,293};
// int actions293[] = {272,273,274,292,294};
// int actions294[] = {273,274,275,293,295};
// int actions295[] = {274,275,276,294,296};
// int actions296[] = {275,276,277,295,297};
// int actions297[] = {276,277,278,296,298};
// int actions298[] = {277,278,279,297,299};
// int actions299[] = {278,279,298,-1,-1,-1,-1,-1};

// int* actions[] = {actions0,
// 				  actions1,
// 				  actions2,
// 				  actions3,
// 				  actions4,
// 				  actions5,
// 				  actions6,
// 				  actions7,
// 				  actions8,
// 				  actions9,
// 				  actions10,
// 				  actions11,
// 				  actions12,
// 				  actions13,
// 				  actions14,
// 				  actions15,
// 				  actions16,
// 				  actions17,
// 				  actions18,
// 				  actions19,
// 				  actions20,
// 				  actions21,
// 				  actions22,
// 				  actions23,
// 				  actions24,
// 				  actions25,
// 				  actions26,
// 				  actions27,
// 				  actions28,
// 				  actions29,
// 				  actions30,
// 				  actions31,
// 				  actions32,
// 				  actions33,
// 				  actions34,
// 				  actions35,
// 				  actions36,
// 				  actions37,
// 				  actions38,
// 				  actions39,
// 				  actions40,
// 				  actions41,
// 				  actions42,
// 				  actions43,
// 				  actions44,
// 				  actions45,
// 				  actions46,
// 				  actions47,
// 				  actions48,
// 				  actions49,
// 				  actions50,
// 				  actions51,
// 				  actions52,
// 				  actions53,
// 				  actions54,
// 				  actions55,
// 				  actions56,
// 				  actions57,
// 				  actions58,
// 				  actions59,
// 				  actions60,
// 				  actions61,
// 				  actions62,
// 				  actions63,
// 				  actions64,
// 				  actions65,
// 				  actions66,
// 				  actions67,
// 				  actions68,
// 				  actions69,
// 				  actions70,
// 				  actions71,
// 				  actions72,
// 				  actions73,
// 				  actions74,
// 				  actions75,
// 				  actions76,
// 				  actions77,
// 				  actions78,
// 				  actions79,
// 				  actions80,
// 				  actions81,
// 				  actions82,
// 				  actions83,
// 				  actions84,
// 				  actions85,
// 				  actions86,
// 				  actions87,
// 				  actions88,
// 				  actions89,
// 				  actions90,
// 				  actions91,
// 				  actions92,
// 				  actions93,
// 				  actions94,
// 				  actions95,
// 				  actions96,
// 				  actions97,
// 				  actions98,
// 				  actions99,
// 				  actions100,
// 				  actions101,
// 				  actions102,
// 				  actions103,
// 				  actions104,
// 				  actions105,
// 				  actions106,
// 				  actions107,
// 				  actions108,
// 				  actions109,
// 				  actions110,
// 				  actions111,
// 				  actions112,
// 				  actions113,
// 				  actions114,
// 				  actions115,
// 				  actions116,
// 				  actions117,
// 				  actions118,
// 				  actions119,
// 				  actions120,
// 				  actions121,
// 				  actions122,
// 				  actions123,
// 				  actions124,
// 				  actions125,
// 				  actions126,
// 				  actions127,
// 				  actions128,
// 				  actions129,
// 				  actions130,
// 				  actions131,
// 				  actions132,
// 				  actions133,
// 				  actions134,
// 				  actions135,
// 				  actions136,
// 				  actions137,
// 				  actions138,
// 				  actions139,
// 				  actions140,
// 				  actions141,
// 				  actions142,
// 				  actions143,
// 				  actions144,
// 				  actions145,
// 				  actions146,
// 				  actions147,
// 				  actions148,
// 				  actions149,
// 				  actions150,
// 				  actions151,
// 				  actions152,
// 				  actions153,
// 				  actions154,
// 				  actions155,
// 				  actions156,
// 				  actions157,
// 				  actions158,
// 				  actions159,
// 				  actions160,
// 				  actions161,
// 				  actions162,
// 				  actions163,
// 				  actions164,
// 				  actions165,
// 				  actions166,
// 				  actions167,
// 				  actions168,
// 				  actions169,
// 				  actions170,
// 				  actions171,
// 				  actions172,
// 				  actions173,
// 				  actions174,
// 				  actions175,
// 				  actions176,
// 				  actions177,
// 				  actions178,
// 				  actions179,
// 				  actions180,
// 				  actions181,
// 				  actions182,
// 				  actions183,
// 				  actions184,
// 				  actions185,
// 				  actions186,
// 				  actions187,
// 				  actions188,
// 				  actions189,
// 				  actions190,
// 				  actions191,
// 				  actions192,
// 				  actions193,
// 				  actions194,
// 				  actions195,
// 				  actions196,
// 				  actions197,
// 				  actions198,
// 				  actions199,
// 				  actions200,
// 				  actions201,
// 				  actions202,
// 				  actions203,
// 				  actions204,
// 				  actions205,
// 				  actions206,
// 				  actions207,
// 				  actions208,
// 				  actions209,
// 				  actions210,
// 				  actions211,
// 				  actions212,
// 				  actions213,
// 				  actions214,
// 				  actions215,
// 				  actions216,
// 				  actions217,
// 				  actions218,
// 				  actions219,
// 				  actions220,
// 				  actions221,
// 				  actions222,
// 				  actions223,
// 				  actions224,
// 				  actions225,
// 				  actions226,
// 				  actions227,
// 				  actions228,
// 				  actions229,
// 				  actions230,
// 				  actions231,
// 				  actions232,
// 				  actions233,
// 				  actions234,
// 				  actions235,
// 				  actions236,
// 				  actions237,
// 				  actions238,
// 				  actions239,
// 				  actions240,
// 				  actions241,
// 				  actions242,
// 				  actions243,
// 				  actions244,
// 				  actions245,
// 				  actions246,
// 				  actions247,
// 				  actions248,
// 				  actions249,
// 				  actions250,
// 				  actions251,
// 				  actions252,
// 				  actions253,
// 				  actions254,
// 				  actions255,
// 				  actions256,
// 				  actions257,
// 				  actions258,
// 				  actions259,
// 				  actions260,
// 				  actions261,
// 				  actions262,
// 				  actions263,
// 				  actions264,
// 				  actions265,
// 				  actions266,
// 				  actions267,
// 				  actions268,
// 				  actions269,
// 				  actions270,
// 				  actions271,
// 				  actions272,
// 				  actions273,
// 				  actions274,
// 				  actions275,
// 				  actions276,
// 				  actions277,
// 				  actions278,
// 				  actions279,
// 				  actions280,
// 				  actions281,
// 				  actions282,
// 				  actions283,
// 				  actions284,
// 				  actions285,
// 				  actions286,
// 				  actions287,
// 				  actions288,
// 				  actions289,
// 				  actions290,
// 				  actions291,
// 				  actions292,
// 				  actions293,
// 				  actions294,
// 				  actions295,
// 				  actions296,
// 				  actions297,
// 				  actions298,
// 				  actions299};

class q_learning : public event_handler {
private:
	// double reward[][];
	double Q[NUMSTATES][NUMSTATES];
	int current_state;
	int next_state;
	int action;
	bool firstPass;
	double maxQ(int state);
	double getQ(int state, int action);
	void updateQ(int state, int action, double q);
	double reward();
	void changeTTThys();
	void learn();
	int policy(int current);
public:
	q_learning(scheduler* gs, int TTT, int hys);
	~q_learning();
	void print();
	void printPolicy();
protected:
	virtual void handler(const event* received);
};

#endif